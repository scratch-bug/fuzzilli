function hot_func(f) {
    f();
}

const wasm_code = new Uint8Array([
    0x00, 0x61, 0x73, 0x6d, 0x01, 0x00, 0x00, 0x00,
    0x01, 0x04, 0x01, 0x60, 0x00, 0x00,
    0x02, 0x07, 0x01, 0x01, 0x6d, 0x01, 0x66, 0x00, 0x00,
    0x07, 0x08, 0x01, 0x04, 0x6d, 0x61, 0x69, 0x6e, 0x00, 0x00
]);

const wasm_module = new WebAssembly.Module(wasm_code);
const imports = { m: { f: () => {} } };
const instance = new WebAssembly.Instance(wasm_module, imports);
const re_exported_func = instance.exports.main;

for (let i = 0; i < 20000; i++) {
    hot_func(re_exported_func);
}